@font-face {
  font-family: 'CelebMF';
  src: url('./font/Masterfont - Celeb MF Medium.otf') format('opentype');
  font-weight: 500;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'CelebMFLight';
  src: url('./font/Masterfont - Celeb MF Light.otf') format('opentype');
  font-weight: 300;
  font-style: normal;
  font-display: swap;
}

@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  /* System Fonts - SF Pro */
  --font-system: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";

  /* --- SEMANTIC TOKEN SYSTEM (DEFAULT: DARK) --- */
  --bg-primary: #0D0D0D;
  --bg-secondary: #111111;
  --bg-elevated: #1A1A1A;
  --bg-input: #1E1E1E;
  --bg-sidebar: #0D0D0D;
  --bg-main: #111111;
  --bg-card: #1A1A1A;
  --bg-component: #1E1E1E;
  --bg-toggle-switch: #2A2A2A;
  --bg-item-surface: #1A1A1A;
  --bg-item-active: #252525;

  --text-primary: #E5E5E5;
  --text-secondary: #999999;
  --text-tertiary: #666666;

  --border-subtle: rgba(255,255,255,0.06);
  --border-muted: rgba(255,255,255,0.12);

  --accent-primary: #E8750A;
  --accent-muted: rgba(232,117,10,0.15);

  --overlay-bg: rgba(13,13,13,0.70);

  /* Glass tokens */
  --glass-bg: rgba(17,17,17,0.70);
  --glass-bg-light: rgba(26,26,26,0.60);
  --glass-bg-heavy: rgba(13,13,13,0.85);
  --glass-border: rgba(255,255,255,0.08);
  --glass-highlight: rgba(255,255,255,0.05);
  --shadow-sm: 0 2px 8px rgba(0,0,0,0.3);
  --shadow-md: 0 8px 24px rgba(0,0,0,0.4);
  --shadow-lg: 0 20px 50px rgba(0,0,0,0.5);
  --shadow-glow-blue: 0 0 20px rgba(232,117,10,0.15);
}

[data-theme='light'] {
  /* --- LIGHT MODE PALETTE --- */
  --bg-primary: #F8FAFD;
  --bg-secondary: #F0F4F8;
  --bg-elevated: #FFFFFF;
  --bg-input: #E8EDF4;
  --bg-sidebar: #F0F4F8;
  --bg-main: #F8FAFD;
  --bg-card: #FFFFFF;
  --bg-component: #EDF1F7;
  --bg-toggle-switch: #D6DEE8;
  --bg-item-surface: #EDF1F7;
  --bg-item-active: #E0E7F0;

  --text-primary: #0F1729;
  --text-secondary: #4A5568;
  --text-tertiary: #8B9AB5;

  --border-subtle: rgba(15,23,41,0.06);
  --border-muted: rgba(15,23,41,0.12);

  --accent-primary: #D96C08;
  --accent-muted: rgba(217,108,8,0.10);

  --overlay-bg: rgba(248,250,253,0.85);

  --glass-bg: rgba(255,255,255,0.72);
  --glass-bg-light: rgba(255,255,255,0.60);
  --glass-bg-heavy: rgba(248,250,253,0.88);
  --glass-border: rgba(15,23,41,0.08);
  --glass-highlight: rgba(255,255,255,0.60);
  --shadow-sm: 0 2px 8px rgba(0,0,0,0.06);
  --shadow-md: 0 8px 24px rgba(0,0,0,0.08);
  --shadow-lg: 0 20px 50px rgba(0,0,0,0.10);
  --shadow-glow-blue: 0 0 20px rgba(217,108,8,0.10);

  .force-black-icon {
    filter: brightness(0) !important;
  }
}

/* App sizing baseline (required for h-full / flex scroll areas) */
html,
body,
#root {
  height: 100%;
  width: 100%;
  overflow: hidden;
  /* Transparent background to let vibrancy show through */
  background: transparent !important;
  /* System font */
  font-family: var(--font-system);
  /* Smoother fonts */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Allow selection in specific areas if needed */
.selectable {
  user-select: text;
  -webkit-user-select: text;
}

body {
  margin: 0;
  /* cursor: default; -> Removed to let app dictate cursor */
}

/* Scrollbar Styling - Minimal macOS Hidden style */
::-webkit-scrollbar {
  width: 0px;
  background: transparent;
}

/* Liquid Glass Effect Base */
.liquid-glass {
  background: var(--glass-bg);
  backdrop-filter: blur(40px) saturate(180%);
  -webkit-backdrop-filter: blur(40px) saturate(180%);
  border: 1px solid var(--glass-border);
  border-radius: 1.25rem;
  box-shadow:
    var(--shadow-lg),
    inset 0 1px 0 var(--glass-highlight);
  position: relative;
  overflow: hidden;
}

/* Glass Utility Classes */
.glass-panel {
  background: var(--glass-bg);
  backdrop-filter: blur(40px) saturate(180%);
  -webkit-backdrop-filter: blur(40px) saturate(180%);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
  box-shadow:
    var(--shadow-md),
    inset 0 0.5px 0 var(--glass-highlight);
}

.glass-panel-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(60px) saturate(200%);
  -webkit-backdrop-filter: blur(60px) saturate(200%);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
  box-shadow:
    var(--shadow-lg),
    inset 0 1px 0 var(--glass-highlight);
}

.glass-panel-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(20px) saturate(150%);
  -webkit-backdrop-filter: blur(20px) saturate(150%);
  border: 1px solid var(--glass-border);
  border-radius: 12px;
  box-shadow: var(--shadow-sm);
}

/* Interaction Utilities - Reusable */
.interaction-base {
  transition-property: transform, opacity, background-color, border-color, color;
  transition-duration: 200ms;
  transition-timing-function: cubic-bezier(0.25, 1, 0.5, 1);
  backface-visibility: hidden;
}

.interaction-hover:hover {
  transform: translateY(-0.5px);
}

.interaction-press:active {
  transform: scale(0.97);
  opacity: 0.9;
}

/* Electron Stability - Drag Regions */
/* Title bar area usually */
.titlebar-drag-region {
  -webkit-app-region: drag;
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 38px;
  /* Standard macOS titlebar height */
  z-index: 9999;
  cursor: default;
}

.draggable-area {
  -webkit-app-region: drag;
  position: relative;
  z-index: 50;
  cursor: default;
}

.drag-region {
  -webkit-app-region: drag;
}

/* Make sure buttons and interactive elements are not draggable */
button,
input,
select,
textarea,
.interactive,
.no-drag,
[role="button"],
a {
  -webkit-app-region: no-drag;
  cursor: default;
}

/* Override cursor for clickable items */
button:hover,
[role="button"]:hover,
a:hover,
.cursor-pointer {
  cursor: pointer;
}

/* Utilities for sidebar layout */
.app-sidebar {
  background: rgba(0, 0, 0, 0.2);
  backdrop-filter: blur(10px);
  border-right: 1px solid var(--glass-border);
}

.app-content {
  background: transparent;
  /* Let vibrancy show */
}

@keyframes shine {
  0% {
    transform: translateX(-100%) skewX(-12deg);
  }

  100% {
    transform: translateX(200%) skewX(-12deg);
  }
}

.animate-shine {
  animation: shine 2s infinite;
}